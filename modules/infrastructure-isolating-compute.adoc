// Module included in the following assemblies:
//
// * machine_management/creating-infrastructure-machinesets.adoc

[id="infrastructure-isolating-compute_{context}"]
= Configuring Cluster Default Node Selector

Set the default node selector to select nodes for compute workload.

.Prerequisites

* Nodes running in your cluster with appropriate labels and sufficient capacity
to handle the compute workload.

.Procedure

. Set the default node selector in the cluster scheduler:
+
----
$ oc patch schedulers.config.openshift.io cluster --type=merge \
     -p '{"spec":{"defaultNodeSelector":"node-role.kubernetes.io/compute="}}'
----

. Add `openshift.io/node-selector` annotations for specific namespaces to
allow them to run on other nodes:
+
----
$ oc annotate namespace <namespace> openshift.io/node-selector=''
----

[NOTE]
====
Application pods previously scheduled on cluster nodes will not be deleted
and removed automatically.
====
