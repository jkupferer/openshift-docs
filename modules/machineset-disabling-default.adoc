// Module included in the following assemblies:
//
// * machine_management/creating-infrastructure-machinesets.adoc

[id="machineset-disabling-default_{context}"]
= Disabling Default Worker Machinesets

You must disable the default worker MachineSets in order to isolate workload
to specific worker node roles.

.Prerequisites

* Deploy an {product-title} cluster.
* Install the OpenShift Command-line Interface (CLI), commonly known as `oc`
* Log in to `oc` as a user with `cluster-admin` permission.
* Create and scale up custom MachineSets.

.Procedure

. View current MachineSet status.
+
Ensure that custom machinesets are ready before disabling the default workers.

.. View the current MachineSets.
+
----
$ oc get machinesets -n openshift-machine-api

NAME                               DESIRED   CURRENT   READY   AVAILABLE   AGE
cluster-2jcwr-compute-us-east-2a   1         1         1       1           5m20s
cluster-2jcwr-compute-us-east-2b   1         1         1       1           5m32s
cluster-2jcwr-compute-us-east-2c   1         1         1       1           5m41s
cluster-2jcwr-infra-us-east-2a     1         1         1       1           4m11s
cluster-2jcwr-infra-us-east-2b     0         0                             2m11s
cluster-2jcwr-infra-us-east-2c     0         0                             2m11s
cluster-2jcwr-worker-us-east-2a    1         1         1       1           2d
cluster-2jcwr-worker-us-east-2b    1         1         1       1           2d
cluster-2jcwr-worker-us-east-2c    1         1         1       1           2d
----

.. Scale down the default worker machinesets:
+
----
$ oc scale machineset <machineset_name> -n openshift-machine-api --replicas=0
----

.. Confirm machineset scale-down:
+
----
$ oc get machineset -n openshift-machine-api
NAME                               DESIRED   CURRENT   READY   AVAILABLE   AGE
cluster-2jcwr-compute-us-east-2a   1         1         1       1           17m
cluster-2jcwr-compute-us-east-2b   1         1         1       1           17m
cluster-2jcwr-compute-us-east-2c   1         1         1       1           17m
cluster-2jcwr-infra-us-east-2a     1         1         1       1           19m
cluster-2jcwr-infra-us-east-2b     0         0                             19m
cluster-2jcwr-infra-us-east-2c     0         0                             19m
cluster-2jcwr-worker-us-east-2a    0         0                             2d
cluster-2jcwr-worker-us-east-2b    0         0                             2d
cluster-2jcwr-worker-us-east-2c    0         0                             2d
----
